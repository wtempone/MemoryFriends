{"version":3,"sources":["../../src/pages/main-menu/main-menu.module.ts","../../src/pages/main-menu/main-menu.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { TranslateModule } from '@ngx-translate/core';\n\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MainMenuPage } from './main-menu';\n\n@NgModule({\n  declarations: [\n    MainMenuPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MainMenuPage),\n    TranslateModule.forChild()\n    \n  ],\n  exports: [\n    MainMenuPage\n  ]\n})\nexport class MainMenuPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main-menu/main-menu.module.ts","import { AuthServiceProvider } from './../../providers/auth-service';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Component, ViewChild } from '@angular/core';\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { NavController, AlertController, ViewController, IonicPage } from 'ionic-angular';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { Camera } from '@ionic-native/camera';\nimport { User } from '../../providers/database/database-providers';\n\n@IonicPage()\n@Component({\n  selector: 'page-main-menu',\n  templateUrl: 'main-menu.html',\n})\nexport class MainMenuPage {\n  @ViewChild('fileInput') fileInput;\n\n  isReadyToSave: boolean;\n\n  displayName: string;\n  photoURL: any;\n  friends: any[];\n  form: FormGroup;\n  user: User;\n  inviteUser: any;\n\n  \n  constructor(public navCtrl: NavController, \n    public viewCtrl: ViewController,\n    formBuilder: FormBuilder, \n    public camera: Camera, \n    private authServiceProvider: AuthServiceProvider,\n    public alertController: AlertController,\n    private db: AngularFireDatabase,     \n    private translate: TranslateService\n  ) {\n    \n//    this.displayName = authServiceProvider.userProfile.displayName;\n//    this.photoURL = authServiceProvider.userProfile.photoURL;\n\n    if (this.displayName) {\n      this.form = formBuilder.group({\n        profilePic: [this.photoURL],\n        name: [this.displayName, Validators.required]\n        });\n    }\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n\n    authServiceProvider.getFriends().then( (friends:any) => { \n      this.friends = [];\n      friends.data.forEach(friend => {\n        this.authServiceProvider.callFacebookApi(friend.id+'?fields=picture,name').then(fbprofile => {\n          this.friends.push(fbprofile);  \n        });\n      });\n    });\n\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  sendInvite(inviteUser:any) {\n    this.translate.get([\n      \"DO_YOU_ENVITE_A_FRIEND\",\n      \"DO_YOU_ENVITE_A_FRIEND_MESSAGE\",\n      \"SEND_BUTTON\",\n      \"CANCEL_BUTTON\"]\n    ,{value: inviteUser.name}).subscribe(\n      (values) => {\n        let confirm = this.alertController.create({\n          title: values.DO_YOU_ENVITE_A_FRIEND ,\n          message: values.DO_YOU_ENVITE_A_FRIEND_MESSAGE,\n          buttons: [\n            {\n              text: values.CANCEL_BUTTON,\n              handler: () => {\n                console.log('Agree clicked');\n              }\n            },\n            {\n              text: values.SEND_BUTTON,\n              handler: () => {\n/*                this.db.database\n                  .ref('users/'+inviteUser.id + \"/invites/\" + this.authServiceProvider.dbUser.facebookId )\n                  .set(this.authServiceProvider.dbUser) ;*/\n              }\n            }\n          ]\n        });\n        confirm.present().then();\n      })\n    }\n\n  public solo() {\n    //this.navCtrl.push(MenuSoloPage);\n  }\n\n\n  getPicture() {\n    if (Camera['installed']()) {\n      this.camera.getPicture({\n        destinationType: this.camera.DestinationType.DATA_URL,\n        targetWidth: 96,\n        targetHeight: 96\n      }).then((data) => {\n        this.form.patchValue({ 'profilePic': 'data:image/jpg;base64,' + data });\n      }, (err) => {\n        alert('Unable to take photo');\n      })\n    } else {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  processWebImage(event) {\n    let reader = new FileReader();\n    reader.onload = (readerEvent) => {\n\n      let imageData = (readerEvent.target as any).result;\n      this.form.patchValue({ 'profilePic': imageData });\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  getProfileImageStyle() {\n    return 'url(' + this.form.controls['profilePic'].value + ')'\n  }\n\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  done() {\n    if (!this.form.valid) { return; }\n    this.viewCtrl.dismiss(this.form.value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/main-menu/main-menu.ts"],"sourceRoot":""}